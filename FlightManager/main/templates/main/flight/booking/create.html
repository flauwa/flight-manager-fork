{% extends 'main/main.html' %}

{% block title %}
Book a Flight
{% endblock title %}

{% block content %}
<br/>
<div class='container'>
    <div class='row'>
        <div class='col-md-4'>
            <div class='card card-body'>
                <center><h5 class='page-title'>Flight information</h5></center>
                <table class='table'>
                    <tr>
                        <td>Flight number</td>
                        <td>{{ flight.id }}</td>
                    </tr>
                    <tr>
                        <td>Route</td>
                        <td>{{ flight.departure_airport }} (Dep.) - {{ flight.arrival_airport }} (Dest.)</td>
                    </tr>
                    <tr>
                        <td>Departure</td>
                        <td>{{ flight.date_time }}</td>
                    </tr>
                    <tr>
                        <td>Total seats</td>
                        <td>{{ flight.total_seats }}</td>
                    </tr>
                    <tr>
                        <td>First class</td>
                        <td>{{ flight.flightdetail.first_class_seat_size }} seats</td>
                    </tr>
                    <tr>
                        <td>Economy class</td>
                        <td>{{ flight.flightdetail.second_class_seat_size }} seats</td>
                    </tr>
                    <tr>
                        <td>Ticket price (first - economy)</td>
                        <td>{{ flight.flightdetail.first_class_ticket_price }}$ - {{ flight.flightdetail.second_class_ticket_price }}$</td>
                    </tr>
                </table>
                <a href='{% url "flight.detail" flight.id %}' class='btn btn-warning btn-block'>View flight detail</a>
            </div>
        </div>
        <div class='col-md-8'>
            <div class='card card-body'>
                <h5 class='page-title'>Booking information</h5>
                <hr/>
                <form method="POST" action="{% url 'flight.reservation.create' flight.id %}">
                    {% csrf_token %}
                    {% for field in form %}
                        <div class="form-group">
                            {{ field.label_tag }}
                            {{ field }}
                            <ul class="text-danger">
                            {% for error in field.errors %}
                                <li>{{ error }}</li>
                            {% endfor %}
                            </ul>
                        </div>
                    {% endfor %}
                    <div class='form-group'>
                        <button type='submit' class='btn btn-success'>Book</button>
                        <button type='reset' class='btn btn-primary'>Reset</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<br/>
{% endblock %}